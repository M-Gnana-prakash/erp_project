<div class="flex flex-col gap-2">

  @if (label) {
  <label [style.color]="computedStyles.labelColor" [ngClass]="{
                 'text-sm font-medium mb-1': true,
                 'opacity-50': disabled
               }">
    {{ label }} @if(required){<span class="text-red-500">*</span>}
  </label>
  }

  <div class="flex flex-col gap-2">
    @for (option of options; track option.value) {
    <label class="flex items-center gap-2 cursor-pointer" [class.cursor-not-allowed]="disabled || option.disabled"
      [class.opacity-50]="disabled || option.disabled">

      <input type="radio" [name]="name" [value]="option.value" [checked]="value === option.value"
        [disabled]="disabled || option.disabled" (change)="onOptionChange(option.value)" class="sr-only" />

      <!-- Custom Radio Circle -->
      <div class="rounded-full border flex items-center justify-center transition-all duration-200" [ngClass]="{
                        'w-4 h-4': computedStyles.sizeVariant === 'sm',
                        'w-5 h-5': computedStyles.sizeVariant === 'md',
                        'w-6 h-6': computedStyles.sizeVariant === 'lg'
                     }"
        [style.border-color]="value === option.value ? computedStyles.selectedColor : computedStyles.borderColor"
        [style.background-color]="computedStyles.backgroundColor" [style.border-width]="'1px'">

        @if (value === option.value) {
        <div class="rounded-full" [style.background-color]="computedStyles.selectedColor" [ngClass]="{
                                'w-2 h-2': computedStyles.sizeVariant === 'sm',
                                'w-2.5 h-2.5': computedStyles.sizeVariant === 'md',
                                'w-3 h-3': computedStyles.sizeVariant === 'lg'
                             }"></div>
        }
      </div>

      <span [style.color]="computedStyles.labelColor" [ngClass]="{
                        'text-xs': computedStyles.sizeVariant === 'sm',
                        'text-sm': computedStyles.sizeVariant === 'md',
                        'text-base': computedStyles.sizeVariant === 'lg'
                      }">
        {{ option.label }}
      </span>
    </label>
    }
  </div>

  <!-- Validation -->
  @if (needValidationStatusMessage && errors.length > 0) {
  <div class="mt-1">
    @for (error of errors; track error) {
    <p class="text-red-500 text-xs mt-0.5">
      {{ error }}
    </p>
    }
  </div>
  }
</div>